metadata:
  title: "Error Handling Test"
  description: "Simple test to validate error handling and stopOnError behavior"
  runtime: "python3"
  tags: ["test", "error-handling"]

parameters:
  should_fail: true

cells:
  - id: "setup"
    source: |
      print("ğŸ”§ Setting up test...")
      print(f"Should fail: {should_fail}")

  - id: "success-cell"
    source: |
      print("âœ… This cell should succeed")
      result = 2 + 2
      print(f"2 + 2 = {result}")

  - id: "conditional-error"
    source: |
      print("ğŸ§ª Testing conditional error...")
      if should_fail:
          print("ğŸ’¥ Intentionally raising error")
          raise ValueError("This is an intentional test error!")
      else:
          print("âœ… No error - test passed")

  - id: "should-not-run"
    source: |
      print("âŒ THIS SHOULD NOT RUN if stopOnError=True and previous cell failed")
      print("If you see this message, error handling is broken!")

  - id: "final-cell"
    source: |
      print("âŒ THIS SHOULD ALSO NOT RUN after an error")
      print("Error handling test failed!")
